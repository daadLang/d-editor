<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self' data:; connect-src 'self'; base-uri 'self'; object-src 'none'">
  <title>ض IDE - Ḍād Programming Language</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="header-title">ض IDE</div>
      <div class="header-actions">
        <button id="openFolderBtn" class="btn-header" title="فتح مجلد">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M.5 3l.04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"/>
            <path d="M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
        </button>
        <button id="runBtn" class="btn-header btn-run" title="تشغيل (F5)">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
          </svg>
          تشغيل
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <!-- File Explorer -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <span>المستكشف</span>
        </div>
        <div id="fileTree" class="file-tree">
          <div class="empty-state">افتح مجلدًا للبدء</div>
        </div>
      </aside>

      <!-- Editor -->
      <main class="editor-container">
        <div class="editor-header">
          <span id="currentFile" class="current-file">لا يوجد ملف مفتوح</span>
          <div class="editor-actions">
            <button id="saveBtn" class="btn-editor" title="حفظ (Ctrl+S)" disabled>
              <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"/>
              </svg>
            </button>
          </div>
        </div>
        <div id="editor"></div>
      </main>
    </div>

    <!-- Terminal Panel -->
    <div id="terminalPanel" class="terminal-panel hidden">
      <div class="terminal-header">
        <span>نافذة الإخراج</span>
        <button id="closeTerminalBtn" class="btn-close">×</button>
      </div>
      <div id="terminalOutput" class="terminal-output"></div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
